(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{626:function(e,n,t){var o,i=(o=t(627))&&o.__esModule?o:{default:o};Object.defineProperty(n,"CoreNavigation",{enumerable:!0,get:function(){return i.default}})},627:function(e,n,t){"use strict";t.r(n);t(628);var o=t(629),i=t(8),r=t.n(i),a=(t(630),t(631)),s=(t(369),t(151)),c=(t(152),t(51)),l=t(22),u=t.n(l),p=t(34),g=t.n(p),d=t(622),f=t.n(d),m=t(623),h=t.n(m),y=t(621),v=t.n(y),b=t(624),C=t.n(b),S=t(43),x=t.n(S),I=t(2),w=t.n(I),k=t(0),F=t.n(k),P=t(4),_=t.n(P),E=t(15),M={icon:"icon",text:"text",button:"button"},z={quit:"quit",back:"back",push:"push",custom:"custom"},D={QuitTextAction:{type:M.text,text:"取消",action:z.quit},QuitIconAction:{type:M.icon,icon:"left",action:z.quit},BackIconAction:{type:M.icon,icon:"left",action:z.back},CustomPushAction:{type:M.text,text:"编辑",url:"/Update",action:z.push},CustomTextAction:{type:M.text,text:"提交/编辑/保存",action:z.custom,callback:function(e){console.log(e)}}},T=function(e){function n(e){var t;return u()(this,n),t=f()(this,h()(n).call(this)),x()(v()(t),"onGoBack",function(){E.b.navigationGoBack({},void 0,function(){console.log("移动端尚未初始化，退出功能未注册")}),t.props.history.privateHistory.goBack()}),x()(v()(t),"onGoPush",function(e){t.props.history.privateHistory.push(e)}),x()(v()(t),"onQuit",function(){E.b.quitToNavigation({},void 0,function(){c.a.fail("移动端尚未初始化，退出功能未注册")})}),x()(v()(t),"renderItemAction",function(e){var n=e.action,o=e.url,i=e.callback;return n===z.quit?t.onQuit:n===z.back?t.onGoBack:n===z.push&&w.a.not.empty(o)?function(){t.onGoPush(o)}:n===z.custom&&w.a.existy(i)?i:function(){}}),x()(v()(t),"renderItemContent",function(e){var n=e.type;return n===M.icon&&w.a.not.empty(e.icon)?_.a.createElement(s.a,{type:e.icon,size:"lg"}):n===M.text&&w.a.not.empty(e.text)?_.a.createElement("span",null,e.text):n===M.button&&w.a.not.empty(e.text)?_.a.createElement(a.a,{type:e.buttonType,size:"small"},e.text):_.a.createElement("span",null)}),x()(v()(t),"renderNavigationItem",function(e){if(!w.a.not.existy(e)&&!w.a.empty(e))return _.a.createElement("div",{role:"presentation",onClick:t.renderItemAction(e)},t.renderItemContent(e))}),x()(v()(t),"render",function(){var e=t.state,n=e.title,i=e.leftItem,a=e.rightItem,s=e.style,c={mode:"light",leftContent:t.renderNavigationItem(i),rightContent:t.renderNavigationItem(a),style:r()({position:"fixed",zIndex:999,left:0,top:0,right:0},s)};return _.a.createElement(o.a,c,n)}),t.state={title:e.title?e.title:"",leftItem:e.leftItem?e.leftItem:void 0,rightItem:e.rightItem?e.rightItem:void 0,style:e.style?e.style:{}},t}return C()(n,e),g()(n,[{key:"componentWillReceiveProps",value:function(e){var n={title:e.title?e.title:"",leftItem:e.leftItem?e.leftItem:void 0,rightItem:e.rightItem?e.rightItem:void 0,style:e.style?e.style:{}};this.setState(n)}}]),n}(P.Component);x()(T,"propTypes",{history:F.a.object.isRequired,leftItem:F.a.object,rightItem:F.a.object,title:F.a.string,style:F.a.object}),x()(T,"defaultProps",{leftItem:{},rightItem:{},title:"",style:{}}),T.CoreNavigationItemType=M,T.CoreNavigationAction=z,T.CoreNavigationItems=D,n.default=T},645:function(e,n,t){"use strict";t(370),t(646)},646:function(e,n,t){var o=t(647);"string"==typeof o&&(o=[[e.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};t(66)(o,i);o.locals&&(e.exports=o.locals)},647:function(e,n,t){(e.exports=t(65)(!1)).push([e.i,".am-progress-outer {\n  background-color: #ddd;\n  display: block;\n}\n.am-progress-fixed-outer {\n  position: fixed;\n  width: 100%;\n  top: 0;\n  left: 0;\n  z-index: 2000;\n}\n.am-progress-hide-outer {\n  background-color: transparent;\n}\n.am-progress-bar {\n  border: 2px solid #108ee9;\n  transition: all 0.3s linear 0s;\n}\n",""])},648:function(e,n,t){"use strict";var o=t(44),i=t.n(o),r=t(24),a=t.n(r),s=t(29),c=t.n(s),l=t(30),u=t.n(l),p=t(23),g=t.n(p),d=t(31),f=t.n(d),m=t(38),h=t.n(m),y=t(4),v=function(e){function n(){return c()(this,n),g()(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return f()(n,e),u()(n,[{key:"componentWillReceiveProps",value:function(){this.noAppearTransition=!0}},{key:"componentDidMount",value:function(){var e=this;this.props.appearTransition&&setTimeout(function(){e.barRef&&(e.barRef.style.width=e.props.percent+"%")},10)}},{key:"render",value:function(){var e,n=this,t=this.props,o=t.className,r=t.prefixCls,s=t.position,c=t.unfilled,l=t.style,u=void 0===l?{}:l,p=t.barStyle,g=void 0===p?{}:p,d={width:this.noAppearTransition||!this.props.appearTransition?this.props.percent+"%":0,height:0},f=h()(r+"-outer",o,(e={},a()(e,r+"-fixed-outer","fixed"===s),a()(e,r+"-hide-outer",!c),e));return y.createElement("div",{style:u,className:f,role:"progressbar","aria-valuenow":this.props.percent,"aria-valuemin":0,"aria-valuemax":100},y.createElement("div",{ref:function(e){return n.barRef=e},className:r+"-bar",style:i()({},g,d)}))}}]),n}(y.Component);n.a=v,v.defaultProps={prefixCls:"am-progress",percent:0,position:"fixed",unfilled:!0,appearTransition:!1}},689:function(e,n,t){var o=t(690);"string"==typeof o&&(o=[[e.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};t(66)(o,i);o.locals&&(e.exports=o.locals)},690:function(e,n,t){(n=e.exports=t(65)(!1)).push([e.i,".PhtvFYEy-Jp_QZs_i78Zv {\n  padding-top: 0.45rem;\n  height: calc(100% - 0.45rem);\n  background: #f9fbfc;\n}\n/*-------------------------------------*/\n/*-------------------------------------*/\n.GetVUb51JmdDRBwhXnols {\n  margin: auto auto 0.2rem;\n  height: 1.2rem;\n}\n._1GH86QsiIQJeO0dxLqSlzO {\n  margin-top: 0.8rem;\n  text-align: center;\n  height: 0.28rem;\n  font-size: 0.28rem;\n  font-family: PingFangSC-Semibold, PingFang SC;\n  font-weight: 600;\n  color: #ffec00;\n  line-height: 0.28rem;\n}\n._379Uw8AgDYznSMVg1xohmK {\n  margin-top: 0.5rem;\n  text-align: center;\n  height: 0.16rem;\n  font-size: 0.16rem;\n  font-family: PingFangSC-Medium, PingFang SC;\n  font-weight: 500;\n  color: #ffffff;\n  line-height: 0.16rem;\n}\n/*-------------------------------------*/\n._3MxZOu37ChHwc9eMWnhzAw {\n  position: relative;\n  margin-top: 43%;\n  height: auto;\n  margin-bottom: 5%;\n  padding: 0 3%;\n}\n._2sTTxSeGoIOhbsMDTx5hPn {\n  margin: 0.1rem auto;\n}\n._1AQx6I0Qh-LMwHrJijCT8l {\n  width: 30%;\n  text-align: center;\n  font-size: 0.16rem;\n  font-family: PingFangSC-Medium, PingFang SC;\n  font-weight: 500;\n  color: #ffffff;\n  line-height: 0.16rem;\n}\n._2_dZTNFKNLr-zw9ikzwMPE {\n  width: 30%;\n  font-size: 0.14rem;\n  font-family: PingFangSC-Medium, PingFang SC;\n  font-weight: 500;\n  color: #ffffff;\n  line-height: 0.16rem;\n}\n._3v59wCaWUUGeBIHH7Uwwr7 {\n  width: 30%;\n  margin: 0.05rem;\n  height: 0.66rem;\n  background-color: #FFF;\n}\n._19zZaned0el0LOGkmWCJmM {\n  position: relative;\n  margin-top: 70%;\n  padding: 0 12%;\n}\n/*-------------------------------------*/\n.QsCo12y6bjMScwGN3_YPj {\n  position: relative;\n  margin-top: 20%;\n}\n._2mjtx5t4S45oe48ChjblIr {\n  margin: auto;\n  text-align: center;\n  background: #ffec00;\n  border-radius: 0.05rem;\n  width: 50%;\n  height: 0.5rem;\n  font-size: 0.25rem;\n  font-family: PingFangSC-Medium, PingFang SC;\n  font-weight: 500;\n  color: #000000;\n  line-height: 0.5rem;\n}\n.qkELjcZwMICkAJFQ7QMJn {\n  position: relative;\n  margin-top: 70%;\n}\n.oowgO4_YXzo5ZaweBYJH2 {\n  margin: auto;\n  text-align: center;\n  width: 1rem;\n  height: 0.35rem;\n  border-radius: 0.04rem;\n  opacity: 0.8;\n  border: 0.01rem solid #ffffff;\n  font-size: 0.12rem;\n  font-family: PingFangSC-Regular, PingFang SC;\n  font-weight: 400;\n  color: #ffffff;\n  line-height: 0.35rem;\n}\n/*-------------------------------------*/\n/*-------------------------------------*/\n/*-------------------------------------*/\n.PZ261ACrfQ5Zsz8ZNNidz {\n  padding: 0.45rem 0.2rem 0.47rem;\n  height: calc(100% - 0.45rem - 0.47rem);\n}\n._3bp2_-vImeFPQ3cMzjuVrB {\n  font-size: 0.16rem;\n  font-family: PingFangSC-Regular, PingFang SC;\n  font-weight: 400;\n  color: #000000;\n  line-height: 0.26rem;\n}\n",""]),n.locals={"sign-container":"PhtvFYEy-Jp_QZs_i78Zv","sign-header-container":"GetVUb51JmdDRBwhXnols","sign-header-title":"_1GH86QsiIQJeO0dxLqSlzO","sign-header-sub-title":"_379Uw8AgDYznSMVg1xohmK","sign-progress-content-container":"_3MxZOu37ChHwc9eMWnhzAw","sign-progress-content":"_2sTTxSeGoIOhbsMDTx5hPn","sign-progress-content-score-text":"_1AQx6I0Qh-LMwHrJijCT8l","sign-progress-content-daily-text":"_2_dZTNFKNLr-zw9ikzwMPE","sign-progress-content-image":"_3v59wCaWUUGeBIHH7Uwwr7","sign-progress-bar-container":"_19zZaned0el0LOGkmWCJmM","sign-content-button-container":"QsCo12y6bjMScwGN3_YPj","sign-content-button":"_2mjtx5t4S45oe48ChjblIr","sign-content-description-container":"qkELjcZwMICkAJFQ7QMJn","sign-content-description-button":"oowgO4_YXzo5ZaweBYJH2","sign-description-container":"PZ261ACrfQ5Zsz8ZNNidz","sign-description":"_3bp2_-vImeFPQ3cMzjuVrB"}},693:function(e,n,t){e.exports=t.p+"ce837ac1329b0a66a4c640d807ebd9ce.png"},694:function(e,n,t){e.exports=t.p+"13c23915b8b4f5b7740a0be79a40d98b.png"},695:function(e,n,t){e.exports=t.p+"007dad936e99da3fb26d8a4734673071.png"},696:function(e,n,t){e.exports=t.p+"ef7906110e8d0d35cf4810d5bf7e206c.png"},697:function(e,n,t){e.exports=t.p+"336d1e81682cbfd8d8cfff990f1b242a.png"},747:function(e,n,t){"use strict";t.r(n);t(645);var o=t(648),i=t(22),r=t.n(i),a=t(34),s=t.n(a),c=t(622),l=t.n(c),u=t(623),p=t.n(u),g=t(621),d=t.n(g),f=t(624),m=t.n(f),h=t(43),y=t.n(h),v=t(11),b=t.n(v),C=t(150),S=t(4),x=t.n(S),I=t(0),w=t.n(I),k=t(689),F=t.n(k),P=t(15),_=t(626),E=(t(639),t(640)),M=(t(152),t(51)),z=t(693),D=t.n(z);var T=function(e){function n(e){var t;return r()(this,n),t=l()(this,p()(n).call(this,e)),y()(d()(t),"onDisplay",function(){return function(e){e.preventDefault(),(0,t.props.dispatch)({type:"score/updateScoreByDailySign",payload:{accountId:b.a.get(P.a,"AccountId",""),onSuccessCallback:t.onSuccessCallback,onFailureCallback:t.onFailureCallback}})}}),y()(d()(t),"onSuccessCallback",function(e){t.setState({isDisplay:!0,score:b.a.get(e,"score_num",0),signCount:b.a.get(e,"today_clock_in_count",0)});var n=b.a.get(P.a,"AccountId","");(0,t.props.dispatch)({type:"score/fetchScore",payload:{accountId:n}})}),y()(d()(t),"onFailureCallback",function(e){M.a.fail("签到失败",3)}),y()(d()(t),"onClose",function(){return function(){t.setState({isDisplay:!1})}}),y()(d()(t),"onCloseFinished",function(){console.log("弹窗关闭后的调用"),t.setState({score:0});var e=t.props.onReloadPage;e&&(console.log("签到后重新加载页面"),e())}),y()(d()(t),"onWrapTouchStart",function(e){/iPhone|iPod|iPad/i.test(navigator.userAgent)&&(function(e,n){for(var t=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;e;){if(t.call(e,n))return e;e=e.parentElement}return null}(e.target,".am-modal-content")||e.preventDefault())}),y()(d()(t),"renderButton",function(){return x.a.createElement("div",{onClick:t.onDisplay()},"签到")}),y()(d()(t),"renderModal",function(){var e=t.state,n=e.isRequestFailure,o=e.score,i=e.signCount,r=void 0===i?0:i,a="签到成功",s=x.a.createElement("div",null,x.a.createElement("img",{style:{width:".56rem",margin:"auto"},src:D.a,alt:""}),x.a.createElement("div",null,x.a.createElement("span",{style:{fontSize:".4rem",color:"rgba(239,61,49,1)",marginRight:".05rem"}},"+",o),x.a.createElement("span",{style:{fontSize:".14rem",color:"rgba(0,0,0,1)"}},"积分"),x.a.createElement("br",null),r>0?x.a.createElement("span",{style:{fontSize:".12rem",color:"rgba(0, 0, 0, 0.46)"}},"已签到".concat(r,"人")):"")),c=[{text:"我知道了",onPress:function(){t.onClose()()}}];return n&&(a="签到失败",s=x.a.createElement("div",null,"请求服务器失败")),x.a.createElement(E.a,{visible:t.state.isDisplay,transparent:!0,maskClosable:!1,onClose:t.onClose(),title:a,footer:c,wrapProps:{onTouchStart:t.onWrapTouchStart},afterClose:t.onCloseFinished},x.a.createElement("div",{style:{height:"1.5rem",overflow:"scroll"}},s))}),t.state={isDisplay:!1,isRequestFailure:!1,score:0,signCount:0},t}return m()(n,e),s()(n,[{key:"render",value:function(){return x.a.createElement("div",null,this.renderButton(),this.renderModal())}}]),n}(S.Component);y()(T,"propTypes",{dispatch:w.a.func.isRequired,history:w.a.object.isRequired,onReloadPage:w.a.func});var N=Object(C.connect)()(T),A=t(694),j=t.n(A),Q=t(695),R=t.n(Q),B=t(696),Z=t.n(B),J=t(697),q=t.n(J),G=function(e){function n(e){var t;return r()(this,n),t=l()(this,p()(n).call(this)),y()(d()(t),"onDirectToDescription",function(){t.props.history.privateHistory.push("/Manage/Sign/Description")}),y()(d()(t),"onReloadPage",function(){(0,t.props.dispatch)({type:"score/fetchSignInfo",payload:{accountId:b.a.get(P.a,"AccountId","")}});var e=t.state.reloadCount;t.setState({reloadCount:e+1})}),y()(d()(t),"renderNavigation",function(){var e={title:x.a.createElement("span",{style:{color:"#FFF"}},"每日签到"),history:t.props.history,style:{backgroundColor:"#EF3D31",color:"#FFF"}};return x.a.createElement(_.CoreNavigation,e)}),y()(d()(t),"renderContent",function(){var e=t.state,n=e.isSigned,i=e.signDays,r=j.a,a=i/30*100;return a>=10&&a<50&&(r=R.a),a>=50&&a<100&&(r=Z.a),a>=100&&(r=q.a),x.a.createElement("div",{className:F.a["sign-content-container"]},x.a.createElement("img",{style:{width:"100%",position:"absolute",top:0},src:r,alt:""}),x.a.createElement("div",{className:F.a["sign-progress-bar-container"]},x.a.createElement(o.a,{style:{borderRadius:".04rem"},barStyle:{border:".02rem solid #0BBE50"},percent:a,position:"normal"})),x.a.createElement("div",{className:F.a["sign-content-button-container"]},x.a.createElement("div",{className:F.a["sign-content-button"]},n?"已签到":x.a.createElement(N,{history:t.props.history,onReloadPage:t.onReloadPage}))))}),t.state={isSigned:b.a.get(e,"score.isSigned",!1),signDays:b.a.get(e,"score.signDays",0),reloadCount:0},t}return m()(n,e),s()(n,[{key:"componentDidMount",value:function(){(0,this.props.dispatch)({type:"score/fetchSignInfo",payload:{accountId:b.a.get(P.a,"AccountId","")}}),P.b.updateStateBarColor({color:"EF3D31"},void 0,function(){console.log("componentDidMount updateStateBarColor 移动端尚未初始化，操作失败")}),P.b.updateTabsDisplayState({isHide:!0},void 0,function(){console.log("更新tabs隐藏失败")})}},{key:"componentWillReceiveProps",value:function(e){var n={isSigned:b.a.get(e,"score.isSigned",!1),signDays:b.a.get(e,"score.signDays",0)};this.setState(n)}},{key:"componentWillUnmount",value:function(){P.b.updateStateBarColor({color:"FFFFFF"},void 0,function(){console.log("componentWillUnmount updateStateBarColor 移动端尚未初始化，操作失败")}),P.b.updateTabsDisplayState({isHide:!1},void 0,function(){console.log("更新tabs显示失败")})}},{key:"render",value:function(){return x.a.createElement("div",{className:F.a["sign-container"]},this.renderNavigation(),this.renderContent())}}]),n}(S.Component);y()(G,"propTypes",{dispatch:w.a.func.isRequired,history:w.a.object.isRequired});n.default=Object(C.connect)(function(e){return{score:e.score}})(G)}}]);